{"ast":null,"code":"\"use client\";\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { login, register, verifyOTP } from \"../services/api\";\nimport axios from \"axios\";\nimport { getApiUrl } from \"../config/environment\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext({\n  user: null,\n  token: null,\n  loading: false,\n  error: null,\n  signIn: function () {\n    var _signIn = _asyncToGenerator(function* () {});\n    function signIn() {\n      return _signIn.apply(this, arguments);\n    }\n    return signIn;\n  }(),\n  signUp: function () {\n    var _signUp = _asyncToGenerator(function* () {});\n    function signUp() {\n      return _signUp.apply(this, arguments);\n    }\n    return signUp;\n  }(),\n  verify: function () {\n    var _verify = _asyncToGenerator(function* () {});\n    function verify() {\n      return _verify.apply(this, arguments);\n    }\n    return verify;\n  }(),\n  signOut: function () {\n    var _signOut = _asyncToGenerator(function* () {});\n    function signOut() {\n      return _signOut.apply(this, arguments);\n    }\n    return signOut;\n  }(),\n  updateUserData: function updateUserData() {},\n  setAuthData: function setAuthData() {}\n});\nexport var useAuth = function useAuth() {\n  return useContext(AuthContext);\n};\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    token = _useState4[0],\n    setToken = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    error = _useState8[0],\n    setError = _useState8[1];\n  useEffect(function () {\n    var loadUserData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var storedUser = yield AsyncStorage.getItem(\"user\");\n          var storedToken = yield AsyncStorage.getItem(\"token\");\n          if (storedUser && storedToken) {\n            setUser(JSON.parse(storedUser));\n            setToken(storedToken);\n            try {\n              var refreshedToken = yield tryRefreshToken();\n              if (refreshedToken) {\n                setToken(refreshedToken);\n                yield AsyncStorage.setItem(\"token\", refreshedToken);\n              }\n            } catch (refreshError) {\n              console.error(\"Error refreshing token:\", refreshError);\n            }\n          }\n        } catch (e) {\n          console.error(\"Error loading user data:\", e);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function loadUserData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    loadUserData();\n  }, []);\n  var tryRefreshToken = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        var refreshToken = yield AsyncStorage.getItem(\"refreshToken\");\n        if (!refreshToken) return null;\n        var response = yield axios.post(getApiUrl() + \"/auth/refresh\", {\n          refresh_token: refreshToken\n        });\n        var _response$data = response.data,\n          access_token = _response$data.access_token,\n          refresh_token = _response$data.refresh_token;\n        yield AsyncStorage.setItem(\"token\", access_token);\n        yield AsyncStorage.setItem(\"refreshToken\", refresh_token);\n        return access_token;\n      } catch (error) {\n        console.error(\"Error refreshing token:\", error);\n        return null;\n      }\n    });\n    return function tryRefreshToken() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var signIn = function () {\n    var _ref4 = _asyncToGenerator(function* (phone, password) {\n      setLoading(true);\n      setError(null);\n      try {\n        var _yield$login = yield login(phone, password),\n          userData = _yield$login.user,\n          authToken = _yield$login.token;\n        setUser(userData);\n        setToken(authToken);\n        yield AsyncStorage.setItem(\"user\", JSON.stringify(userData));\n        yield AsyncStorage.setItem(\"token\", authToken);\n      } catch (e) {\n        setError(e instanceof Error ? e.message : \"An error occurred during sign in\");\n        throw e;\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function signIn(_x, _x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var signUp = function () {\n    var _ref5 = _asyncToGenerator(function* (userData) {\n      setLoading(true);\n      setError(null);\n      try {\n        yield register(userData);\n      } catch (e) {\n        setError(e instanceof Error ? e.message : \"An error occurred during sign up\");\n        throw e;\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function signUp(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var verify = function () {\n    var _ref6 = _asyncToGenerator(function* (phone, otp) {\n      setLoading(true);\n      setError(null);\n      try {\n        yield verifyOTP(phone, otp);\n      } catch (e) {\n        setError(e instanceof Error ? e.message : \"An error occurred during verification\");\n        throw e;\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function verify(_x4, _x5) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var signOut = function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      setUser(null);\n      setToken(null);\n      yield AsyncStorage.removeItem(\"user\");\n      yield AsyncStorage.removeItem(\"token\");\n    });\n    return function signOut() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var updateUserData = function updateUserData(data) {\n    if (user) {\n      var updatedUser = _objectSpread(_objectSpread({}, user), data);\n      setUser(updatedUser);\n      AsyncStorage.setItem(\"user\", JSON.stringify(updatedUser));\n    }\n  };\n  var setAuthData = function setAuthData(user, token) {\n    setUser(user);\n    setToken(token);\n  };\n  return _jsx(AuthContext.Provider, {\n    value: {\n      user: user,\n      token: token,\n      loading: loading,\n      error: error,\n      signIn: signIn,\n      signUp: signUp,\n      verify: verify,\n      signOut: signOut,\n      updateUserData: updateUserData,\n      setAuthData: setAuthData\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["_defineProperty","_slicedToArray","_asyncToGenerator","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","createContext","useContext","useState","useEffect","AsyncStorage","login","register","verifyOTP","axios","getApiUrl","jsx","_jsx","AuthContext","user","token","loading","error","signIn","_signIn","signUp","_signUp","verify","_verify","signOut","_signOut","updateUserData","setAuthData","useAuth","AuthProvider","_ref","children","_useState","_useState2","setUser","_useState3","_useState4","setToken","_useState5","_useState6","setLoading","_useState7","_useState8","setError","loadUserData","_ref2","storedUser","getItem","storedToken","JSON","parse","refreshedToken","tryRefreshToken","setItem","refreshError","console","_ref3","refreshToken","response","post","refresh_token","_response$data","data","access_token","_ref4","phone","password","_yield$login","userData","authToken","stringify","Error","message","_x","_x2","_ref5","_x3","_ref6","otp","_x4","_x5","_ref7","removeItem","updatedUser","Provider","value"],"sources":["/home/runner/workspace/mobile/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useEffect } from \"react\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"\nimport { login, register, verifyOTP } from \"../services/api\"\nimport axios from \"axios\"\nimport { getApiUrl } from \"../config/environment\"\nimport type { User } from \"../types/models\"\nimport type { RegisterUserData } from \"../services/api\"\n\ninterface AuthContextType {\n  user: User | null\n  token: string | null\n  loading: boolean\n  error: string | null\n  signIn: (phone: string, password: string) => Promise<void>\n  signUp: (userData: RegisterUserData) => Promise<void>\n  verify: (phone: string, otp: string) => Promise<void>\n  signOut: () => Promise<void>\n  updateUserData: (data: Partial<User>) => void\n  setAuthData: (user: User, token: string) => void\n}\n\nexport const AuthContext = createContext<AuthContextType>({\n  user: null,\n  token: null,\n  loading: false,\n  error: null,\n  signIn: async () => {},\n  signUp: async () => {},\n  verify: async () => {},\n  signOut: async () => {},\n  updateUserData: () => {},\n  setAuthData: () => {},\n})\n\nexport const useAuth = () => useContext(AuthContext)\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null)\n  const [token, setToken] = useState<string | null>(null)\n  const [loading, setLoading] = useState<boolean>(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    // Check if user is already logged in\n    const loadUserData = async () => {\n      try {\n        const storedUser = await AsyncStorage.getItem(\"user\")\n        const storedToken = await AsyncStorage.getItem(\"token\")\n\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser))\n          setToken(storedToken)\n\n          // Refresh token if needed\n          try {\n            const refreshedToken = await tryRefreshToken()\n            if (refreshedToken) {\n              setToken(refreshedToken)\n              await AsyncStorage.setItem(\"token\", refreshedToken)\n            }\n          } catch (refreshError) {\n            console.error(\"Error refreshing token:\", refreshError)\n            // If refresh fails, we'll keep using the old token\n          }\n        }\n      } catch (e) {\n        console.error(\"Error loading user data:\", e)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    loadUserData()\n  }, [])\n\n  // Fonction utilitaire locale pour rafraîchir le token\n  const tryRefreshToken = async (): Promise<string | null> => {\n    try {\n      const refreshToken = await AsyncStorage.getItem(\"refreshToken\")\n      if (!refreshToken) return null\n\n      const response = await axios.post(`${getApiUrl()}/auth/refresh`, {\n        refresh_token: refreshToken,\n      })\n      const { access_token, refresh_token } = response.data\n      await AsyncStorage.setItem(\"token\", access_token) // Standardize token key\n      await AsyncStorage.setItem(\"refreshToken\", refresh_token)\n      return access_token\n    } catch (error) {\n      console.error(\"Error refreshing token:\", error)\n      return null\n    }\n  }\n\n  const signIn = async (phone: string, password: string) => {\n    setLoading(true)\n    setError(null)\n    try {\n      const { user: userData, token: authToken } = await login(phone, password)\n      setUser(userData)\n      setToken(authToken)\n      await AsyncStorage.setItem(\"user\", JSON.stringify(userData))\n      await AsyncStorage.setItem(\"token\", authToken)\n    } catch (e) {\n      setError(e instanceof Error ? e.message : \"An error occurred during sign in\")\n      throw e\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const signUp = async (userData: RegisterUserData) => {\n    setLoading(true)\n    setError(null)\n    try {\n      await register(userData)\n      // After registration, user needs to verify OTP\n    } catch (e) {\n      setError(e instanceof Error ? e.message : \"An error occurred during sign up\")\n      throw e\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const verify = async (phone: string, otp: string) => {\n    setLoading(true)\n    setError(null)\n    try {\n      await verifyOTP(phone, otp)\n      // Après vérification OTP, il faut recharger l'utilisateur et le token depuis le backend ou le storage\n      // Ici, on suppose que l'utilisateur doit se reconnecter ou que l'API met à jour le storage\n    } catch (e) {\n      setError(e instanceof Error ? e.message : \"An error occurred during verification\")\n      throw e\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const signOut = async () => {\n    setUser(null)\n    setToken(null)\n    await AsyncStorage.removeItem(\"user\")\n    await AsyncStorage.removeItem(\"token\")\n  }\n\n  const updateUserData = (data: Partial<User>) => {\n    if (user) {\n      const updatedUser = { ...user, ...data }\n      setUser(updatedUser)\n      AsyncStorage.setItem(\"user\", JSON.stringify(updatedUser))\n    }\n  }\n\n  const setAuthData = (user: User, token: string) => {\n    setUser(user)\n    setToken(token)\n  }\n\n  return (\n    <AuthContext.Provider value={{ user, token, loading, error, signIn, signUp, verify, signOut, updateUserData, setAuthData }}>\n      {children}\n    </AuthContext.Provider>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}