{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { IconButton, Portal, Modal, Text, Button } from 'react-native-paper';\nimport * as Speech from 'expo-speech';\nimport { Audio } from 'expo-av';\nimport { useNetwork } from \"../contexts/NetworkContext\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar VoiceAssistant = function VoiceAssistant(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isListening = _useState2[0],\n    setIsListening = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isVisible = _useState4[0],\n    setIsVisible = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    lastCommand = _useState6[0],\n    setLastCommand = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    recording = _useState8[0],\n    setRecording = _useState8[1];\n  var _useNetwork = useNetwork(),\n    isConnected = _useNetwork.isConnected;\n  useEffect(function () {\n    return function () {\n      if (recording) {\n        recording.stopAndUnloadAsync();\n      }\n    };\n  }, [recording]);\n  var startListening = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var permission = yield Audio.requestPermissionsAsync();\n        if (permission.status !== 'granted') {\n          Alert.alert('Permission requise', 'L\\'acc√®s au microphone est n√©cessaire pour l\\'assistant vocal.');\n          return;\n        }\n        setIsListening(true);\n        setIsVisible(true);\n        var recordingOptions = {\n          android: {\n            extension: '.m4a',\n            outputFormat: Audio.AndroidOutputFormat.MPEG_4,\n            audioEncoder: Audio.AndroidAudioEncoder.AAC,\n            sampleRate: 44100,\n            numberOfChannels: 2,\n            bitRate: 128000\n          },\n          ios: {\n            extension: '.m4a',\n            outputFormat: Audio.IOSOutputFormat.MPEG4AAC,\n            audioQuality: Audio.IOSAudioQuality.HIGH,\n            sampleRate: 44100,\n            numberOfChannels: 2,\n            bitRate: 128000,\n            linearPCMBitDepth: 16,\n            linearPCMIsBigEndian: false,\n            linearPCMIsFloat: false\n          },\n          web: {\n            mimeType: 'audio/webm',\n            bitsPerSecond: 128000\n          }\n        };\n        var newRecording = new Audio.Recording();\n        yield newRecording.prepareToRecordAsync(recordingOptions);\n        yield newRecording.startAsync();\n        setRecording(newRecording);\n        setTimeout(function () {\n          stopListening();\n        }, 10000);\n      } catch (error) {\n        console.error('Erreur lors du d√©marrage de l\\'enregistrement:', error);\n        setIsListening(false);\n        setIsVisible(false);\n      }\n    });\n    return function startListening() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var stopListening = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        if (recording) {\n          yield recording.stopAndUnloadAsync();\n          var uri = recording.getURI();\n          setRecording(null);\n          if (uri && isConnected) {\n            yield processVoiceCommand(uri);\n          } else if (!isConnected) {\n            speak('Mode hors ligne. Commandes vocales non disponibles.');\n          }\n        }\n      } catch (error) {\n        console.error('Erreur lors de l\\'arr√™t de l\\'enregistrement:', error);\n      } finally {\n        setIsListening(false);\n        setIsVisible(false);\n      }\n    });\n    return function stopListening() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var processVoiceCommand = function () {\n    var _ref4 = _asyncToGenerator(function* (audioUri) {\n      try {\n        var mockCommands = ['cr√©er une livraison', 'voir mes livraisons', 'aller au profil', 'voir les notifications', 'appeler le support'];\n        var randomCommand = mockCommands[Math.floor(Math.random() * mockCommands.length)];\n        setLastCommand(randomCommand);\n        yield executeVoiceCommand(randomCommand);\n      } catch (error) {\n        console.error('Erreur lors du traitement de la commande vocale:', error);\n        speak('D√©sol√©, je n\\'ai pas compris votre commande.');\n      }\n    });\n    return function processVoiceCommand(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var executeVoiceCommand = function () {\n    var _ref5 = _asyncToGenerator(function* (command) {\n      var lowerCommand = command.toLowerCase();\n      try {\n        if (lowerCommand.includes('cr√©er') && lowerCommand.includes('livraison')) {\n          navigation == null ? void 0 : navigation.navigate('CreateDelivery');\n          speak('Ouverture de la cr√©ation de livraison.');\n        } else if (lowerCommand.includes('livraison') || lowerCommand.includes('historique')) {\n          navigation == null ? void 0 : navigation.navigate('ClientMain', {\n            screen: 'Orders'\n          });\n          speak('Affichage de vos livraisons.');\n        } else if (lowerCommand.includes('profil')) {\n          navigation == null ? void 0 : navigation.navigate('ClientMain', {\n            screen: 'Profile'\n          });\n          speak('Ouverture de votre profil.');\n        } else if (lowerCommand.includes('notification')) {\n          navigation == null ? void 0 : navigation.navigate('ClientMain', {\n            screen: 'Notifications'\n          });\n          speak('Affichage des notifications.');\n        } else if (lowerCommand.includes('support') || lowerCommand.includes('aide')) {\n          navigation == null ? void 0 : navigation.navigate('Settings');\n          speak('Ouverture du support client.');\n        } else if (lowerCommand.includes('accueil') || lowerCommand.includes('home')) {\n          navigation == null ? void 0 : navigation.navigate('ClientMain', {\n            screen: 'Home'\n          });\n          speak('Retour √† l\\'accueil.');\n        } else {\n          speak('Commande non reconnue. Essayez \"cr√©er une livraison\" ou \"voir mes livraisons\".');\n        }\n      } catch (error) {\n        console.error('Erreur lors de l\\'ex√©cution de la commande:', error);\n        speak('Erreur lors de l\\'ex√©cution de la commande.');\n      }\n    });\n    return function executeVoiceCommand(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var speak = function speak(text) {\n    Speech.speak(text, {\n      language: 'fr-FR',\n      pitch: 1.0,\n      rate: 0.8\n    });\n  };\n  var toggleModal = function toggleModal() {\n    setIsVisible(!isVisible);\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(View, {\n      style: styles.floatingButton,\n      children: _jsx(IconButton, {\n        icon: \"microphone\",\n        size: 24,\n        iconColor: \"#FFFFFF\",\n        style: [styles.micButton, isListening && styles.micButtonActive],\n        onPress: isListening ? stopListening : startListening\n      })\n    }), _jsx(Portal, {\n      children: _jsx(Modal, {\n        visible: isVisible,\n        onDismiss: toggleModal,\n        contentContainerStyle: styles.modal,\n        children: _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Assistant Vocal\"\n          }), isListening ? _jsxs(View, {\n            style: styles.listeningContainer,\n            children: [_jsx(Text, {\n              style: styles.listeningText,\n              children: \"\\uD83C\\uDFA4 \\xC9coute en cours...\"\n            }), _jsx(Text, {\n              style: styles.instructionText,\n              children: \"Parlez maintenant\"\n            }), _jsx(Button, {\n              mode: \"outlined\",\n              onPress: stopListening,\n              children: \"Arr\\xEAter\"\n            })]\n          }) : _jsxs(View, {\n            style: styles.idleContainer,\n            children: [_jsx(Text, {\n              style: styles.instructionText,\n              children: \"Appuyez sur le microphone pour commencer\"\n            }), lastCommand && _jsxs(View, {\n              style: styles.lastCommandContainer,\n              children: [_jsx(Text, {\n                style: styles.lastCommandLabel,\n                children: \"Derni\\xE8re commande:\"\n              }), _jsx(Text, {\n                style: styles.lastCommandText,\n                children: lastCommand\n              })]\n            }), _jsxs(View, {\n              style: styles.examplesContainer,\n              children: [_jsx(Text, {\n                style: styles.examplesTitle,\n                children: \"Exemples de commandes:\"\n              }), _jsx(Text, {\n                style: styles.exampleText,\n                children: \"\\u2022 \\\"Cr\\xE9er une livraison\\\"\"\n              }), _jsx(Text, {\n                style: styles.exampleText,\n                children: \"\\u2022 \\\"Voir mes livraisons\\\"\"\n              }), _jsx(Text, {\n                style: styles.exampleText,\n                children: \"\\u2022 \\\"Aller au profil\\\"\"\n              }), _jsx(Text, {\n                style: styles.exampleText,\n                children: \"\\u2022 \\\"Voir les notifications\\\"\"\n              })]\n            })]\n          })]\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  floatingButton: {\n    position: 'absolute',\n    bottom: 100,\n    right: 20,\n    zIndex: 1000\n  },\n  micButton: {\n    backgroundColor: '#FF6B00',\n    borderRadius: 30,\n    elevation: 8,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4\n  },\n  micButtonActive: {\n    backgroundColor: '#FF4444'\n  },\n  modal: {\n    margin: 20,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 15,\n    padding: 20,\n    elevation: 10\n  },\n  modalContent: {\n    alignItems: 'center'\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: '#333'\n  },\n  listeningContainer: {\n    alignItems: 'center',\n    padding: 20\n  },\n  listeningText: {\n    fontSize: 18,\n    marginBottom: 10,\n    color: '#FF6B00'\n  },\n  instructionText: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 20,\n    textAlign: 'center'\n  },\n  idleContainer: {\n    alignItems: 'center',\n    width: '100%'\n  },\n  lastCommandContainer: {\n    marginVertical: 15,\n    padding: 10,\n    backgroundColor: '#F5F5F5',\n    borderRadius: 8,\n    width: '100%'\n  },\n  lastCommandLabel: {\n    fontSize: 12,\n    color: '#666',\n    marginBottom: 5\n  },\n  lastCommandText: {\n    fontSize: 14,\n    color: '#333',\n    fontStyle: 'italic'\n  },\n  examplesContainer: {\n    marginTop: 20,\n    width: '100%'\n  },\n  examplesTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: '#333'\n  },\n  exampleText: {\n    fontSize: 12,\n    color: '#666',\n    marginBottom: 5\n  }\n});\nexport default VoiceAssistant;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","Alert","IconButton","Portal","Modal","Text","Button","Speech","Audio","useNetwork","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VoiceAssistant","_ref","navigation","_useState","_useState2","_slicedToArray","isListening","setIsListening","_useState3","_useState4","isVisible","setIsVisible","_useState5","_useState6","lastCommand","setLastCommand","_useState7","_useState8","recording","setRecording","_useNetwork","isConnected","stopAndUnloadAsync","startListening","_ref2","_asyncToGenerator","permission","requestPermissionsAsync","status","alert","recordingOptions","android","extension","outputFormat","AndroidOutputFormat","MPEG_4","audioEncoder","AndroidAudioEncoder","AAC","sampleRate","numberOfChannels","bitRate","ios","IOSOutputFormat","MPEG4AAC","audioQuality","IOSAudioQuality","HIGH","linearPCMBitDepth","linearPCMIsBigEndian","linearPCMIsFloat","web","mimeType","bitsPerSecond","newRecording","Recording","prepareToRecordAsync","startAsync","setTimeout","stopListening","error","console","apply","arguments","_ref3","uri","getURI","processVoiceCommand","speak","_ref4","audioUri","mockCommands","randomCommand","Math","floor","random","length","executeVoiceCommand","_x","_ref5","command","lowerCommand","toLowerCase","includes","navigate","screen","_x2","text","language","pitch","rate","toggleModal","children","style","styles","floatingButton","icon","size","iconColor","micButton","micButtonActive","onPress","visible","onDismiss","contentContainerStyle","modal","modalContent","modalTitle","listeningContainer","listeningText","instructionText","mode","idleContainer","lastCommandContainer","lastCommandLabel","lastCommandText","examplesContainer","examplesTitle","exampleText","create","position","bottom","right","zIndex","backgroundColor","borderRadius","elevation","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","margin","padding","alignItems","fontSize","fontWeight","marginBottom","color","textAlign","marginVertical","fontStyle","marginTop"],"sources":["/home/runner/workspace/mobile/components/VoiceAssistant.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { View, StyleSheet, Alert } from 'react-native'\nimport { IconButton, Portal, Modal, Text, Button } from 'react-native-paper'\nimport * as Speech from 'expo-speech'\nimport { Audio } from 'expo-av'\nimport { useNetwork } from '../contexts/NetworkContext'\nimport type { NativeStackNavigationProp } from '@react-navigation/native-stack'\nimport type { RootStackParamList } from '../types/navigation'\n\ninterface VoiceAssistantProps {\n  navigation?: NativeStackNavigationProp<RootStackParamList>\n}\n\nconst VoiceAssistant: React.FC<VoiceAssistantProps> = ({ navigation }) => {\n  const [isListening, setIsListening] = useState(false)\n  const [isVisible, setIsVisible] = useState(false)\n  const [lastCommand, setLastCommand] = useState<string>('')\n  const [recording, setRecording] = useState<Audio.Recording | null>(null)\n  const { isConnected } = useNetwork()\n\n  useEffect(() => {\n    return () => {\n      if (recording) {\n        recording.stopAndUnloadAsync()\n      }\n    }\n  }, [recording])\n\n  const startListening = async () => {\n    try {\n      const permission = await Audio.requestPermissionsAsync()\n      if (permission.status !== 'granted') {\n        Alert.alert('Permission requise', 'L\\'acc√®s au microphone est n√©cessaire pour l\\'assistant vocal.')\n        return\n      }\n\n      setIsListening(true)\n      setIsVisible(true)\n\n      const recordingOptions: Audio.RecordingOptions = {\n        android: {\n          extension: '.m4a',\n          outputFormat: Audio.AndroidOutputFormat.MPEG_4,\n          audioEncoder: Audio.AndroidAudioEncoder.AAC,\n          sampleRate: 44100,\n          numberOfChannels: 2,\n          bitRate: 128000,\n        },\n        ios: {\n          extension: '.m4a',\n          outputFormat: Audio.IOSOutputFormat.MPEG4AAC,\n          audioQuality: Audio.IOSAudioQuality.HIGH,\n          sampleRate: 44100,\n          numberOfChannels: 2,\n          bitRate: 128000,\n          linearPCMBitDepth: 16,\n          linearPCMIsBigEndian: false,\n          linearPCMIsFloat: false,\n        },\n        web: {\n          mimeType: 'audio/webm',\n          bitsPerSecond: 128000,\n        }\n      }\n\n      const newRecording = new Audio.Recording()\n      await newRecording.prepareToRecordAsync(recordingOptions)\n      await newRecording.startAsync()\n      setRecording(newRecording)\n\n      // Arr√™ter automatiquement apr√®s 10 secondes\n      setTimeout(() => {\n        stopListening()\n      }, 10000)\n    } catch (error) {\n      console.error('Erreur lors du d√©marrage de l\\'enregistrement:', error)\n      setIsListening(false)\n      setIsVisible(false)\n    }\n  }\n\n  const stopListening = async () => {\n    try {\n      if (recording) {\n        await recording.stopAndUnloadAsync()\n        const uri = recording.getURI()\n        setRecording(null)\n\n        if (uri && isConnected) {\n          await processVoiceCommand(uri)\n        } else if (!isConnected) {\n          speak('Mode hors ligne. Commandes vocales non disponibles.')\n        }\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'arr√™t de l\\'enregistrement:', error)\n    } finally {\n      setIsListening(false)\n      setIsVisible(false)\n    }\n  }\n\n  const processVoiceCommand = async (audioUri: string) => {\n    try {\n      // Simulation du traitement de la commande vocale\n      // En production, ceci ferait appel √† un service de reconnaissance vocale\n      const mockCommands = [\n        'cr√©er une livraison',\n        'voir mes livraisons',\n        'aller au profil',\n        'voir les notifications',\n        'appeler le support'\n      ]\n\n      const randomCommand = mockCommands[Math.floor(Math.random() * mockCommands.length)]\n      setLastCommand(randomCommand)\n\n      await executeVoiceCommand(randomCommand)\n    } catch (error) {\n      console.error('Erreur lors du traitement de la commande vocale:', error)\n      speak('D√©sol√©, je n\\'ai pas compris votre commande.')\n    }\n  }\n\n  const executeVoiceCommand = async (command: string) => {\n    const lowerCommand = command.toLowerCase()\n\n    try {\n      if (lowerCommand.includes('cr√©er') && lowerCommand.includes('livraison')) {\n        navigation?.navigate('CreateDelivery')\n        speak('Ouverture de la cr√©ation de livraison.')\n      } else if (lowerCommand.includes('livraison') || lowerCommand.includes('historique')) {\n        navigation?.navigate('ClientMain', { screen: 'Orders' } as any)\n        speak('Affichage de vos livraisons.')\n      } else if (lowerCommand.includes('profil')) {\n        navigation?.navigate('ClientMain', { screen: 'Profile' } as any)\n        speak('Ouverture de votre profil.')\n      } else if (lowerCommand.includes('notification')) {\n        navigation?.navigate('ClientMain', { screen: 'Notifications' } as any)\n        speak('Affichage des notifications.')\n      } else if (lowerCommand.includes('support') || lowerCommand.includes('aide')) {\n        navigation?.navigate('Settings')\n        speak('Ouverture du support client.')\n      } else if (lowerCommand.includes('accueil') || lowerCommand.includes('home')) {\n        navigation?.navigate('ClientMain', { screen: 'Home' } as any)\n        speak('Retour √† l\\'accueil.')\n      } else {\n        speak('Commande non reconnue. Essayez \"cr√©er une livraison\" ou \"voir mes livraisons\".')\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'ex√©cution de la commande:', error)\n      speak('Erreur lors de l\\'ex√©cution de la commande.')\n    }\n  }\n\n  const speak = (text: string) => {\n    Speech.speak(text, {\n      language: 'fr-FR',\n      pitch: 1.0,\n      rate: 0.8,\n    })\n  }\n\n  const toggleModal = () => {\n    setIsVisible(!isVisible)\n  }\n\n  return (\n    <>\n      <View style={styles.floatingButton}>\n        <IconButton\n          icon=\"microphone\"\n          size={24}\n          iconColor=\"#FFFFFF\"\n          style={[styles.micButton, isListening && styles.micButtonActive]}\n          onPress={isListening ? stopListening : startListening}\n        />\n      </View>\n\n      <Portal>\n        <Modal\n          visible={isVisible}\n          onDismiss={toggleModal}\n          contentContainerStyle={styles.modal}\n        >\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Assistant Vocal</Text>\n\n            {isListening ? (\n              <View style={styles.listeningContainer}>\n                <Text style={styles.listeningText}>üé§ √âcoute en cours...</Text>\n                <Text style={styles.instructionText}>Parlez maintenant</Text>\n                <Button mode=\"outlined\" onPress={stopListening}>\n                  Arr√™ter\n                </Button>\n              </View>\n            ) : (\n              <View style={styles.idleContainer}>\n                <Text style={styles.instructionText}>\n                  Appuyez sur le microphone pour commencer\n                </Text>\n\n                {lastCommand && (\n                  <View style={styles.lastCommandContainer}>\n                    <Text style={styles.lastCommandLabel}>Derni√®re commande:</Text>\n                    <Text style={styles.lastCommandText}>{lastCommand}</Text>\n                  </View>\n                )}\n\n                <View style={styles.examplesContainer}>\n                  <Text style={styles.examplesTitle}>Exemples de commandes:</Text>\n                  <Text style={styles.exampleText}>‚Ä¢ \"Cr√©er une livraison\"</Text>\n                  <Text style={styles.exampleText}>‚Ä¢ \"Voir mes livraisons\"</Text>\n                  <Text style={styles.exampleText}>‚Ä¢ \"Aller au profil\"</Text>\n                  <Text style={styles.exampleText}>‚Ä¢ \"Voir les notifications\"</Text>\n                </View>\n              </View>\n            )}\n          </View>\n        </Modal>\n      </Portal>\n    </>\n  )\n}\n\nconst styles = StyleSheet.create({\n  floatingButton: {\n    position: 'absolute',\n    bottom: 100,\n    right: 20,\n    zIndex: 1000,\n  },\n  micButton: {\n    backgroundColor: '#FF6B00',\n    borderRadius: 30,\n    elevation: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 4,\n  },\n  micButtonActive: {\n    backgroundColor: '#FF4444',\n  },\n  modal: {\n    margin: 20,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 15,\n    padding: 20,\n    elevation: 10,\n  },\n  modalContent: {\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: '#333',\n  },\n  listeningContainer: {\n    alignItems: 'center',\n    padding: 20,\n  },\n  listeningText: {\n    fontSize: 18,\n    marginBottom: 10,\n    color: '#FF6B00',\n  },\n  instructionText: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  idleContainer: {\n    alignItems: 'center',\n    width: '100%',\n  },\n  lastCommandContainer: {\n    marginVertical: 15,\n    padding: 10,\n    backgroundColor: '#F5F5F5',\n    borderRadius: 8,\n    width: '100%',\n  },\n  lastCommandLabel: {\n    fontSize: 12,\n    color: '#666',\n    marginBottom: 5,\n  },\n  lastCommandText: {\n    fontSize: 14,\n    color: '#333',\n    fontStyle: 'italic',\n  },\n  examplesContainer: {\n    marginTop: 20,\n    width: '100%',\n  },\n  examplesTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: '#333',\n  },\n  exampleText: {\n    fontSize: 12,\n    color: '#666',\n    marginBottom: 5,\n  },\n})\n\nexport default VoiceAssistant"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}