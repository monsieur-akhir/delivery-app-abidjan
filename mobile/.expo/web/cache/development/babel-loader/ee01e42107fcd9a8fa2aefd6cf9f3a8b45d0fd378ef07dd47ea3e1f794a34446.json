{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _toArray from \"@babel/runtime/helpers/toArray\";\nimport { Platform } from 'expo-modules-core';\nimport * as rtlDetect from 'rtl-detect';\nvar getNavigatorLocales = function getNavigatorLocales() {\n  return Platform.isDOMAvailable ? navigator.languages || [navigator.language] : [];\n};\nexport default {\n  get currency() {\n    return null;\n  },\n  get decimalSeparator() {\n    return 1.1.toLocaleString().substring(1, 2);\n  },\n  get digitGroupingSeparator() {\n    var value = 1000 .toLocaleString();\n    return value.length === 5 ? value.substring(1, 2) : '';\n  },\n  get isRTL() {\n    var _rtlDetect$isRtlLang;\n    return (_rtlDetect$isRtlLang = rtlDetect.isRtlLang(this.locale)) != null ? _rtlDetect$isRtlLang : false;\n  },\n  get isMetric() {\n    var region = this.region;\n    switch (region) {\n      case 'US':\n      case 'LR':\n      case 'MM':\n        return false;\n    }\n    return true;\n  },\n  get locale() {\n    if (!Platform.isDOMAvailable) {\n      return '';\n    }\n    var locale = navigator.language || navigator['systemLanguage'] || navigator['browserLanguage'] || navigator['userLanguage'] || this.locales[0];\n    return locale;\n  },\n  get locales() {\n    if (!Platform.isDOMAvailable) {\n      return [];\n    }\n    var _navigator = navigator,\n      _navigator$languages = _navigator.languages,\n      languages = _navigator$languages === void 0 ? [] : _navigator$languages;\n    return Array.from(languages);\n  },\n  get timezone() {\n    var defaultTimeZone = 'Etc/UTC';\n    if (typeof Intl === 'undefined') {\n      return defaultTimeZone;\n    }\n    return Intl.DateTimeFormat().resolvedOptions().timeZone || defaultTimeZone;\n  },\n  get isoCurrencyCodes() {\n    return [];\n  },\n  get region() {\n    var locale = this.locale;\n    var _ref = typeof locale === 'string' ? locale.split('-') : [],\n      _ref2 = _toArray(_ref),\n      suffixes = _ref2.slice(1);\n    for (var suffix of suffixes) {\n      if (suffix.length === 2) {\n        return suffix.toUpperCase();\n      }\n    }\n    return null;\n  },\n  getLocales: function getLocales() {\n    var locales = getNavigatorLocales();\n    return locales == null ? void 0 : locales.map(function (languageTag) {\n      var locale = typeof Intl !== 'undefined' ? new Intl.Locale(languageTag) : {\n        region: null,\n        textInfo: null,\n        language: null\n      };\n      var region = locale.region,\n        textInfo = locale.textInfo,\n        language = locale.language;\n      var digitGroupingSeparator = Array.from(10000 .toLocaleString(languageTag)).filter(function (c) {\n        return c > '9' || c < '0';\n      })[0] || null;\n      var decimalSeparator = 1.1.toLocaleString(languageTag).substring(1, 2);\n      return {\n        languageTag: languageTag,\n        languageCode: language || languageTag.split('-')[0] || 'en',\n        textDirection: (textInfo == null ? void 0 : textInfo.direction) || null,\n        digitGroupingSeparator: digitGroupingSeparator,\n        decimalSeparator: decimalSeparator,\n        measurementSystem: null,\n        currencyCode: null,\n        currencySymbol: null,\n        regionCode: region || null\n      };\n    });\n  },\n  getCalendars: function getCalendars() {\n    var _locale$calendars, _locale$timeZones, _startsWith, _ref3, _locale$hourCycles, _locale$weekInfo;\n    var locales = _toConsumableArray(getNavigatorLocales()).sort(function (a, b) {\n      return a.includes('-') === b.includes('-') ? 0 : a.includes('-') ? -1 : 1;\n    });\n    var locale = locales[0] && typeof Intl !== 'undefined' ? new Intl.Locale(locales[0]) : null;\n    return [{\n      calendar: (locale == null ? void 0 : locale.calendar) || (locale == null ? void 0 : (_locale$calendars = locale.calendars) == null ? void 0 : _locale$calendars[0]) || null,\n      timeZone: (locale == null ? void 0 : locale.timeZone) || (locale == null ? void 0 : (_locale$timeZones = locale.timeZones) == null ? void 0 : _locale$timeZones[0]) || null,\n      uses24hourClock: (_startsWith = (_ref3 = (locale == null ? void 0 : locale.hourCycle) || (locale == null ? void 0 : (_locale$hourCycles = locale.hourCycles) == null ? void 0 : _locale$hourCycles[0])) == null ? void 0 : _ref3.startsWith('h2')) != null ? _startsWith : null,\n      firstWeekday: (locale == null ? void 0 : (_locale$weekInfo = locale.weekInfo) == null ? void 0 : _locale$weekInfo.firstDay) || null\n    }];\n  },\n  getLocalizationAsync: function () {\n    var _getLocalizationAsync = _asyncToGenerator(function* () {\n      var currency = this.currency,\n        decimalSeparator = this.decimalSeparator,\n        digitGroupingSeparator = this.digitGroupingSeparator,\n        isoCurrencyCodes = this.isoCurrencyCodes,\n        isMetric = this.isMetric,\n        isRTL = this.isRTL,\n        locale = this.locale,\n        locales = this.locales,\n        region = this.region,\n        timezone = this.timezone;\n      return {\n        currency: currency,\n        decimalSeparator: decimalSeparator,\n        digitGroupingSeparator: digitGroupingSeparator,\n        isoCurrencyCodes: isoCurrencyCodes,\n        isMetric: isMetric,\n        isRTL: isRTL,\n        locale: locale,\n        locales: locales,\n        region: region,\n        timezone: timezone\n      };\n    });\n    function getLocalizationAsync() {\n      return _getLocalizationAsync.apply(this, arguments);\n    }\n    return getLocalizationAsync;\n  }()\n};","map":{"version":3,"names":["Platform","rtlDetect","getNavigatorLocales","isDOMAvailable","navigator","languages","language","currency","decimalSeparator","toLocaleString","substring","digitGroupingSeparator","value","length","isRTL","_rtlDetect$isRtlLang","isRtlLang","locale","isMetric","region","locales","_navigator","_navigator$languages","Array","from","timezone","defaultTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","isoCurrencyCodes","_ref","split","_ref2","_toArray","suffixes","slice","suffix","toUpperCase","getLocales","map","languageTag","Locale","textInfo","filter","c","languageCode","textDirection","direction","measurementSystem","currencyCode","currencySymbol","regionCode","getCalendars","_locale$calendars","_locale$timeZones","_startsWith","_ref3","_locale$hourCycles","_locale$weekInfo","_toConsumableArray","sort","a","b","includes","calendar","calendars","timeZones","uses24hourClock","hourCycle","hourCycles","startsWith","firstWeekday","weekInfo","firstDay","getLocalizationAsync","_getLocalizationAsync","_asyncToGenerator","apply","arguments"],"sources":["/home/runner/workspace/mobile/node_modules/expo-localization/src/ExpoLocalization.ts"],"sourcesContent":["/* eslint-env browser */\nimport { Platform } from 'expo-modules-core';\nimport * as rtlDetect from 'rtl-detect';\n\nimport { Localization, Calendar, Locale, CalendarIdentifier } from './Localization.types';\n\nconst getNavigatorLocales = () => {\n  return Platform.isDOMAvailable ? navigator.languages || [navigator.language] : [];\n};\n\ntype ExtendedLocale = Intl.Locale &\n  // typescript definitions for navigator language don't include some modern Intl properties\n  Partial<{\n    textInfo: { direction: 'ltr' | 'rtl' };\n    timeZones: string[];\n    weekInfo: { firstDay: number };\n    hourCycles: string[];\n    timeZone: string;\n    calendars: string[];\n  }>;\n\nexport default {\n  get currency(): string | null {\n    // TODO: Add support\n    return null;\n  },\n  get decimalSeparator(): string {\n    return (1.1).toLocaleString().substring(1, 2);\n  },\n  get digitGroupingSeparator(): string {\n    const value = (1000).toLocaleString();\n    return value.length === 5 ? value.substring(1, 2) : '';\n  },\n  get isRTL(): boolean {\n    return rtlDetect.isRtlLang(this.locale) ?? false;\n  },\n  get isMetric(): boolean {\n    const { region } = this;\n    switch (region) {\n      case 'US': // USA\n      case 'LR': // Liberia\n      case 'MM': // Myanmar\n        return false;\n    }\n    return true;\n  },\n  get locale(): string {\n    if (!Platform.isDOMAvailable) {\n      return '';\n    }\n    const locale =\n      navigator.language ||\n      navigator['systemLanguage'] ||\n      navigator['browserLanguage'] ||\n      navigator['userLanguage'] ||\n      this.locales[0];\n    return locale;\n  },\n  get locales(): string[] {\n    if (!Platform.isDOMAvailable) {\n      return [];\n    }\n    const { languages = [] } = navigator;\n    return Array.from(languages);\n  },\n  get timezone(): string {\n    const defaultTimeZone = 'Etc/UTC';\n    if (typeof Intl === 'undefined') {\n      return defaultTimeZone;\n    }\n    return Intl.DateTimeFormat().resolvedOptions().timeZone || defaultTimeZone;\n  },\n  get isoCurrencyCodes(): string[] {\n    // TODO(Bacon): Add this - very low priority\n    return [];\n  },\n  get region(): string | null {\n    // There is no way to obtain the current region, as is possible on native.\n    // Instead, use the country-code from the locale when possible (e.g. \"en-US\").\n    const { locale } = this;\n    const [, ...suffixes] = typeof locale === 'string' ? locale.split('-') : [];\n    for (const suffix of suffixes) {\n      if (suffix.length === 2) {\n        return suffix.toUpperCase();\n      }\n    }\n    return null;\n  },\n\n  getLocales(): Locale[] {\n    const locales = getNavigatorLocales();\n    return locales?.map((languageTag) => {\n      // TextInfo is an experimental API that is not available in all browsers.\n      // We might want to consider using a locale lookup table instead.\n      const locale =\n        typeof Intl !== 'undefined'\n          ? (new Intl.Locale(languageTag) as unknown as ExtendedLocale)\n          : { region: null, textInfo: null, language: null };\n      const { region, textInfo, language } = locale;\n\n      // Properties added only for compatibility with native, use `toLocaleString` instead.\n      const digitGroupingSeparator =\n        Array.from((10000).toLocaleString(languageTag)).filter((c) => c > '9' || c < '0')[0] ||\n        null; // using 1e5 instead of 1e4 since for some locales (like pl-PL) 1e4 does not use digit grouping\n      const decimalSeparator = (1.1).toLocaleString(languageTag).substring(1, 2);\n\n      return {\n        languageTag,\n        languageCode: language || languageTag.split('-')[0] || 'en',\n        textDirection: (textInfo?.direction as 'ltr' | 'rtl') || null,\n        digitGroupingSeparator,\n        decimalSeparator,\n        measurementSystem: null,\n        currencyCode: null,\n        currencySymbol: null,\n        regionCode: region || null,\n      };\n    });\n  },\n  getCalendars(): Calendar[] {\n    // Prefer locales with region codes as they contain more info about calendar.\n    // They seem to always exist in the list for each locale without region\n    const locales = [...getNavigatorLocales()].sort((a, b) =>\n      a.includes('-') === b.includes('-') ? 0 : a.includes('-') ? -1 : 1\n    );\n    const locale = (locales[0] && typeof Intl !== 'undefined'\n      ? new Intl.Locale(locales[0])\n      : null) as unknown as null | ExtendedLocale;\n    return [\n      {\n        calendar: ((locale?.calendar || locale?.calendars?.[0]) as CalendarIdentifier) || null,\n        timeZone: locale?.timeZone || locale?.timeZones?.[0] || null,\n        uses24hourClock: (locale?.hourCycle || locale?.hourCycles?.[0])?.startsWith('h2') ?? null, //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle\n        firstWeekday: locale?.weekInfo?.firstDay || null,\n      },\n    ];\n  },\n  async getLocalizationAsync(): Promise<Omit<Localization, 'getCalendars' | 'getLocales'>> {\n    const {\n      currency,\n      decimalSeparator,\n      digitGroupingSeparator,\n      isoCurrencyCodes,\n      isMetric,\n      isRTL,\n      locale,\n      locales,\n      region,\n      timezone,\n    } = this;\n    return {\n      currency,\n      decimalSeparator,\n      digitGroupingSeparator,\n      isoCurrencyCodes,\n      isMetric,\n      isRTL,\n      locale,\n      locales,\n      region,\n      timezone,\n    };\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}